<div class="max-w-4xl mx-auto p-6 font-sans">
  
  <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">
    üè¢ Smart Workspace
  </h1>

  <div class="bg-white p-6 rounded-lg shadow-md mb-8 border border-gray-200">
    <h3 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">
      {{ editingId ? 'Editar Organiza√ß√£o' : 'Nova Organiza√ß√£o' }}
    </h3>
    
    <form [formGroup]="form" (ngSubmit)="save()" class="flex flex-col md:flex-row gap-4">
      <div class="flex-1">
        <label class="block text-sm font-medium text-gray-600 mb-1">Nome</label>
        <input 
          type="text" 
          formControlName="name" 
          placeholder="Ex: Google Inc."
          class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
      </div>

      <div class="flex-1">
        <label class="block text-sm font-medium text-gray-600 mb-1">Email Corporativo</label>
        <input 
          type="email" 
          formControlName="email" 
          placeholder="admin@empresa.com"
          class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all">
      </div>

      <div class="flex items-end gap-2">
        <button 
          type="submit" 
          [disabled]="form.invalid"
          [class.opacity-50]="form.invalid"
          [class.cursor-not-allowed]="form.invalid"
          [ngClass]="editingId ? 'bg-amber-500 hover:bg-amber-600' : 'bg-blue-600 hover:bg-blue-700'"
          class="px-6 py-3 text-white font-bold rounded-md transition-colors shadow-sm h-[50px]">
          {{ editingId ? 'Atualizar' : 'Adicionar' }}
        </button>

        @if (editingId) {
          <button 
            type="button" 
            (click)="resetForm()"
            class="px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white font-bold rounded-md transition-colors shadow-sm h-[50px]">
            Cancelar
          </button>
        }
      </div>
    </form>
  </div>

  <div class="mb-6 relative">
    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
      <svg class="h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
      </svg>
    </div>
    <input 
      type="text" 
      (input)="onSearch($event)"
      placeholder="üîç Pesquisar por nome ou e-mail..."
      class="block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all sm:text-sm shadow-sm"
    >
  </div>

  @if (filteredOrganizations().length === 0) {
    <div class="text-center py-10 text-gray-500 bg-gray-50 rounded-lg border border-dashed border-gray-300">
      <p class="text-lg">
        {{ organizations().length === 0 ? 'Nenhuma empresa cadastrada.' : 'Nenhuma empresa encontrada na busca.' }}
      </p>
    </div>
  }

  <div class="grid gap-4">
    @for (org of filteredOrganizations(); track org.id) {
      <div class="bg-white border border-gray-200 p-5 rounded-lg shadow-sm hover:shadow-md transition-shadow flex justify-between items-center group">
        <div>
          <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
            {{ org.name }}
            @if (!org.active) {
              <span class="text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full">Inativo</span>
            } @else {
              <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full">Ativo</span>
            }
          </h2>
          <p class="text-gray-500 text-sm mt-1 flex items-center gap-1">
            üìß {{ org.email }}
          </p>
        </div>

        <div class="flex gap-2 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity">
          <button 
            (click)="edit(org)"
            class="p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-all"
            title="Editar">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg>
          </button>
          
          <button 
            (click)="remove(org.id)"
            class="p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-all"
            title="Excluir">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>
          </button>
        </div>
      </div>
    }
  </div>
</div>
<router-outlet></router-outlet>